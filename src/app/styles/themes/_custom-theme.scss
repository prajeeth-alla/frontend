// Import Angular Material theming
@use '@angular/material' as mat;
@use 'sass:map';
@use './variables' as vars;

// Include common styles for Angular Material
@include mat.core();

// Define your custom color palettes
$custom-primary-palette: (
  50: #e8eaf9,
  100: #c5cbf0,
  200: #9fa9e6,
  300: #7987dc,
  400: #5c6dd5,
  500: vars.$primary-color,
  // Main primary color
  600: #3847e1,
  700: #303ddc,
  800: #2835d8,
  900: #1b25d0,
  A100: #ffffff,
  A200: #d0d4ff,
  A400: #9da5ff,
  A700: #848dff,
  contrast: (
    50: rgba(0, 0, 0, 0.87),
    100: rgba(0, 0, 0, 0.87),
    200: rgba(0, 0, 0, 0.87),
    300: rgba(0, 0, 0, 0.87),
    400: white,
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
    A100: rgba(0, 0, 0, 0.87),
    A200: rgba(0, 0, 0, 0.87),
    A400: white,
    A700: white,
  ),
);

// $custom-accent-palette: (
//   50: #ffebee,
//   100: #ffcdd2,
//   200: #ef9a9a,
//   300: #e57373,
//   400: #ff6d88,
//   500: vars.$accent-color,
//   // Main secondary color
//   600: #ff4f69,
//   700: #ff465e,
//   800: #ff3c54,
//   900: #ff2c42,
//   A100: #ffffff,
//   A200: #ffffff,
//   A400: #ffcbd2,
//   A700: #ffb1bc,
//   contrast: (
//     50: rgba(0, 0, 0, 0.87),
//     100: rgba(0, 0, 0, 0.87),
//     200: rgba(0, 0, 0, 0.87),
//     300: rgba(0, 0, 0, 0.87),
//     400: rgba(0, 0, 0, 0.87),
//     500: white,
//     600: white,
//     700: white,
//     800: white,
//     900: white,
//     A100: rgba(0, 0, 0, 0.87),
//     A200: rgba(0, 0, 0, 0.87),
//     A400: rgba(0, 0, 0, 0.87),
//     A700: rgba(0, 0, 0, 0.87),
//   ),
// );

$custom-accent-palette: (
  50: #fcf5e6,
  100: #f8e6c1,
  200: #f3d698,
  300: #eec66e,
  400: #eab94f,
  500: vars.$accent-color,
  // Main warning color
  600: #dc9601,
  700: #d88c01,
  800: #d38201,
  900: #cb7000,
  A100: #fff5e6,
  A200: #ffe0b3,
  A400: #ffcb80,
  A700: #ffc166,
  contrast: (
    50: rgba(0, 0, 0, 0.87),
    100: rgba(0, 0, 0, 0.87),
    200: rgba(0, 0, 0, 0.87),
    300: rgba(0, 0, 0, 0.87),
    400: rgba(0, 0, 0, 0.87),
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
    A100: rgba(0, 0, 0, 0.87),
    A200: rgba(0, 0, 0, 0.87),
    A400: rgba(0, 0, 0, 0.87),
    A700: rgba(0, 0, 0, 0.87),
  ),
);

$custom-info-palette: (
  50: #eceff1,
  100: #cfd8dc,
  200: #b0bec5,
  300: #90a4ae,
  400: #78909c,
  500: vars.$info-color,
  // Main info color
  600: #546e7a,
  700: #455a64,
  800: #37474f,
  900: #263238,
  A100: #cfd8dc,
  A200: #b0bec5,
  A400: #78909c,
  A700: #455a64,
  contrast: (
    50: rgba(0, 0, 0, 0.87),
    100: rgba(0, 0, 0, 0.87),
    200: rgba(0, 0, 0, 0.87),
    300: white,
    400: white,
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
    A100: rgba(0, 0, 0, 0.87),
    A200: rgba(0, 0, 0, 0.87),
    A400: white,
    A700: white,
  ),
);

$custom-success-palette: (
  50: #f0fdf4,
  100: #dcfce7,
  200: #bbf7d0,
  300: #86efac,
  400: #4ade80,
  500: vars.$success-color,
  // Main success color
  600: #16a34a,
  700: #15803d,
  800: #166534,
  900: #14532d,
  A100: #bbf7d0,
  A200: #86efac,
  A400: #4ade80,
  A700: #15803d,
  contrast: (
    50: rgba(0, 0, 0, 0.87),
    100: rgba(0, 0, 0, 0.87),
    200: rgba(0, 0, 0, 0.87),
    300: rgba(0, 0, 0, 0.87),
    400: rgba(0, 0, 0, 0.87),
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
    A100: rgba(0, 0, 0, 0.87),
    A200: rgba(0, 0, 0, 0.87),
    A400: rgba(0, 0, 0, 0.87),
    A700: white,
  ),
);

// Create the palettes using your custom colors
$primary: mat.m2-define-palette($custom-primary-palette);
$accent: mat.m2-define-palette($custom-accent-palette);
$info: mat.m2-define-palette($custom-info-palette);

// Define the custom theme
$custom-theme: mat.m2-define-light-theme(
  (
    color: (
      primary: $primary,
      accent: $accent,
      // warn: $warn,
    ),
    typography:
      mat.m2-define-typography-config(
        $font-family: 'Roboto, "Helvetica Neue", sans-serif',
        $headline-1: mat.m2-define-typography-level(96px, 96px, 300),
        $headline-2: mat.m2-define-typography-level(60px, 60px, 300),
        $headline-3: mat.m2-define-typography-level(48px, 50px, 400),
        $headline-4: mat.m2-define-typography-level(34px, 40px, 400),
        $headline-5: mat.m2-define-typography-level(24px, 32px, 400),
        $headline-6: mat.m2-define-typography-level(20px, 32px, 500),
        $body-1: mat.m2-define-typography-level(16px, 24px, 400),
        $body-2: mat.m2-define-typography-level(14px, 20px, 400),
        $subtitle-1: mat.m2-define-typography-level(16px, 28px, 400),
        $subtitle-2: mat.m2-define-typography-level(14px, 22px, 500),
        $button: mat.m2-define-typography-level(14px, 14px, 500),
        $caption: mat.m2-define-typography-level(12px, 20px, 400),
      ),
    density: -2,
  )
);

button {
  @include mat.button-density(0);
}

// Define CSS custom properties for all colors
:root {
  // Primary colors
  --primary-50: #{map.get($custom-primary-palette, 50)};
  --primary-100: #{map.get($custom-primary-palette, 100)};
  --primary-500: #{map.get($custom-primary-palette, 500)};
  --primary-600: #{map.get($custom-primary-palette, 600)};
  --primary-900: #{map.get($custom-primary-palette, 900)};
  --primary-contrast-500: #{map.get(map.get($custom-primary-palette, contrast), 500)};

  // Accent colors
  --accent-50: #{map.get($custom-accent-palette, 50)};
  --accent-100: #{map.get($custom-accent-palette, 100)};
  --accent-500: #{map.get($custom-accent-palette, 500)};
  --accent-600: #{map.get($custom-accent-palette, 600)};
  --accent-900: #{map.get($custom-accent-palette, 900)};
  --accent-contrast-500: #{map.get(map.get($custom-accent-palette, contrast), 500)};

  // Info colors
  --info-50: #{map.get($custom-info-palette, 50)};
  --info-100: #{map.get($custom-info-palette, 100)};
  --info-500: #{map.get($custom-info-palette, 500)};
  --info-600: #{map.get($custom-info-palette, 600)};
  --info-900: #{map.get($custom-info-palette, 900)};
  --info-contrast-500: #{map.get(map.get($custom-info-palette, contrast), 500)};

  --success-50: #{map.get($custom-success-palette, 50)};
  --success-100: #{map.get($custom-success-palette, 100)};
  --success-500: #{map.get($custom-success-palette, 500)};
  --success-600: #{map.get($custom-success-palette, 600)};
  --success-900: #{map.get($custom-success-palette, 900)};
  --success-contrast-500: #{map.get(map.get($custom-success-palette, contrast), 500)};
}

// Include theme styles for all components
@include mat.all-component-themes($custom-theme);

// Custom mixin for info-themed components
@mixin info-theme() {
  .info-bg {
    background-color: var(--info-500) !important;
    color: var(--info-contrast-500) !important;
  }

  .info-text {
    color: var(--info-500) !important;
  }

  .info-border {
    border: 2px solid var(--info-500) !important;
  }

  .info-button {
    background-color: var(--info-500) !important;
    color: var(--info-contrast-500) !important;
    border: none !important;
    padding: 6px 12px !important;
    border-radius: 4px !important;
    cursor: pointer !important;

    &:hover {
      background-color: var(--info-600) !important;
    }

    &:disabled {
      background-color: var(--info-300) !important;
      cursor: not-allowed !important;
    }
  }

  .info-card {
    background-color: var(--info-50) !important;
    border-left: 4px solid var(--info-500) !important;
    padding: 16px !important;
    border-radius: 4px !important;

    &.filled {
      background-color: var(--info-500) !important;
      color: var(--info-contrast-500) !important;
    }
  }
}

// Apply info theme
@include info-theme();

@mixin success-theme() {
  .success-bg {
    background-color: var(--success-500) !important;
    color: var(--success-contrast-500) !important;
  }

  .success-text {
    color: var(--success-500) !important;
  }

  .success-border {
    border: 2px solid var(--success-500) !important;
  }

  .success-button {
    background-color: var(--success-500) !important;
    color: var(--success-contrast-500) !important;
    border: none !important;
    padding: 6px 12px !important;
    border-radius: 4px !important;
    cursor: pointer !important;

    &:hover {
      background-color: var(--success-600) !important;
    }

    &:disabled {
      background-color: var(--success-300) !important;
      cursor: not-allowed !important;
    }
  }

  .success-card {
    background-color: var(--success-50) !important;
    border-left: 4px solid var(--success-500) !important;
    padding: 16px !important;
    border-radius: 4px !important;

    &.filled {
      background-color: var(--success-500) !important;
      color: var(--success-contrast-500) !important;
    }
  }
}

// Apply success theme
@include success-theme();

// Global styles
body {
  margin: 0;
  font-family: Roboto, 'Helvetica Neue', sans-serif;
  background-color: #fafafa;
  color: #333;
  line-height: 1.6;
}

// Utility classes
.primary-bg {
  background-color: var(--primary-500);
  color: var(--primary-contrast-500);
}
.accent-bg {
  background-color: var(--accent-500);
  color: var(--accent-contrast-500);
}

.info-bg {
  background-color: var(--info-500);
  color: var(--info-contrast-500);
}

.success-bg {
  background-color: var(--success-500);
  color: var(--success-contrast-500);
}

.text-primary {
  color: var(--primary-500);
}
.text-accent {
  color: var(--accent-500);
}

.text-info {
  color: var(--info-500);
}
.text-success {
  color: var(--success-500);
}

// Custom snackbar styles
.mat-mdc-snack-bar-container {
  &.info-snackbar {
    --mdc-snackbar-container-color: var(--info-500);
    --mat-mdc-snack-bar-button-color: var(--info-contrast-500);
  }

  &.success-snackbar {
    --mdc-snackbar-container-color: var(--success-500);
    --mat-mdc-snack-bar-button-color: var(--success-contrast-500);
  }
}
